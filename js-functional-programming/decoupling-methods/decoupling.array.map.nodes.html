<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
</head>

<body>
	<div id="div_1"></div>
	<div id="div_2"></div>
	<div id="div_3"></div>

	<script type="text/javascript">
		const map = f => x => Array.prototype.map.call(x, f) // now method map is detached from Array object by currying.

		const dosomething = item => console.log(item)

		map(dosomething)(['a', 'b', 'c'])

		/*
		document.querySelectorAll (and similar methods) do not return an Array,
		they return a NodeList and a NodeList does not contain a map method.
		There are some magic tricks you can do to convert a NodeList into an Array,
		but conversion is not necessary as our map can enumerate over a NodeList with as if it were an Array.
		*/

		const items = document.querySelectorAll('div')

		// items.map(dosomething)
		// Uncaught TypeError: items.map is not a function

		map(dosomething)(items)
	</script>
</body>

</html>